LAMMPS (13 Oct 2016)
# sample LAMMPS input script for diffusion of 2d LJ liquid
# mean-squared displacement via compute msd

# settings

variable	x equal 40
variable	y equal 40

variable	rho equal 0.6
variable        t equal 1.0
variable	rc equal 2.5

# problem setup

units		lj
dimension	2
atom_style	atomic
neigh_modify	delay 0 every 1

lattice         sq2 ${rho}
lattice         sq2 0.6
Lattice spacing in x,y,z = 1.82574 1.82574 1.82574
region          simbox block 0 $x 0 $y -0.1 0.1
region          simbox block 0 40 0 $y -0.1 0.1
region          simbox block 0 40 0 40 -0.1 0.1
create_box      1 simbox
Created orthogonal box = (0 0 -0.182574) to (73.0297 73.0297 0.182574)
  4 by 2 by 1 MPI processor grid
create_atoms    1 box
Created 3200 atoms

pair_style      lj/cut ${rc}
pair_style      lj/cut 2.5
pair_coeff      * * 1 1

mass            * 1.0
velocity        all create $t 97287
velocity        all create 1 97287

fix             1 all nve
fix	        2 all langevin $t $t 0.1 498094
fix	        2 all langevin 1 $t 0.1 498094
fix	        2 all langevin 1 1 0.1 498094
fix	        3 all enforce2d

# equilibration run

thermo          1000
run	        5000
Neighbor list info ...
  1 neighbor list requests
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 2.8
  ghost atom cutoff = 2.8
  binsize = 1.4 -> bins = 53 53 1
Memory usage per processor = 2.478 Mbytes
Step Temp E_pair E_mol TotEng Press 
       0            1     -1.56492            0   -0.5652325   -1.5346995 
    1000   0.97537833   -1.5723957            0   -0.5973222   0.92877783 
    2000   0.99008371   -1.5748206            0  -0.58504633    1.0809416 
    3000    1.0111412   -1.5848987            0  -0.57407352    1.0174297 
    4000    1.0055417   -1.5857581            0  -0.58053054   0.95647691 
    5000   0.97069905   -1.5851114            0  -0.61471567   0.90108287 
Loop time of 0.554412 on 8 procs for 5000 steps with 3200 atoms

Performance: 3896017.421 tau/day, 9018.559 timesteps/s
98.9% CPU use with 8 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.23992    | 0.24608    | 0.25161    |   0.7 | 44.39
Neigh   | 0.063106   | 0.064417   | 0.066279   |   0.4 | 11.62
Comm    | 0.072465   | 0.085066   | 0.094837   |   2.3 | 15.34
Output  | 0.00013208 | 0.00013691 | 0.00014591 |   0.0 |  0.02
Modify  | 0.11441    | 0.11621    | 0.11769    |   0.3 | 20.96
Other   |            | 0.04251    |            |       |  7.67

Nlocal:    400 ave 406 max 394 min
Histogram: 1 1 0 1 0 2 1 0 1 1
Nghost:    202.5 ave 212 max 191 min
Histogram: 1 0 0 0 3 1 0 2 0 1
Neighs:    2800.88 ave 2903 max 2690 min
Histogram: 1 1 0 0 1 2 1 0 1 1

Total # of neighbors = 22407
Ave neighs/atom = 7.00219
Neighbor list builds = 599
Dangerous builds = 0

unfix		2

# data gathering run

reset_timestep  0

# factor of 4 in 2 variables is for 2d

compute         msd all msd com yes
variable        twopoint equal c_msd[4]/4/(step*dt+1.0e-6)
fix             9 all vector 10 c_msd[4]
variable        fitslope equal slope(f_9)/4/(10*dt)

thermo_style	custom step temp c_msd[4] v_twopoint v_fitslope

# only need to run for 10K steps to make a good 100-frame movie

#dump	        1 all custom 1 tmp.dump id type vx vy vz

#dump		2 all image 100 image.*.jpg type type zoom 1.6 adiam 1.2

thermo          1000
run	        100000
Memory usage per processor = 2.853 Mbytes
Step Temp c_msd[4] v_twopoint v_fitslope 
       0   0.97069905            0            0        5e+20 
    1000   0.98138076    4.0484996   0.20242494   0.18046446 
    2000   0.97606079    9.2121392   0.23030346    0.2091528 
    3000   0.97924866    14.815034   0.24691721   0.22619184 
    4000   0.98568451    20.516817   0.25646019   0.23715506 
    5000   0.97551815     27.33922   0.27339219   0.24709999 
    6000   0.98482252     34.37734   0.28647782   0.25735178 
    7000    0.9672559    41.696689   0.29783348   0.26654059 
    8000    0.9836541    48.340277   0.30212673   0.27440308 
    9000   0.99087147    56.042692   0.31134828   0.28113047 
   10000   0.99663166     63.69663   0.31848314   0.28767921 
   11000   0.97776688    71.144109   0.32338231   0.29344527 
   12000   0.98246011    78.301774   0.32625739   0.29849471 
   13000   0.98788732    85.061923   0.32716124    0.3026655 
   14000   0.96872483      91.1658   0.32559214   0.30601023 
   15000   0.98955796    97.278388   0.32426129    0.3084275 
   16000   0.99855196    104.23997    0.3257499   0.31049883 
   17000   0.98600861    110.66055    0.3254722   0.31220348 
   18000   0.98696963    116.90111   0.32472531   0.31352676 
   19000    0.9881192    124.21305   0.32687644   0.31480062 
   20000   0.98527319    131.09874   0.32774685   0.31596198 
   21000   0.99015191    137.89263   0.32831579   0.31705324 
   22000   0.97972418    146.68982   0.33338595   0.31833889 
   23000   0.98911012     155.1264   0.33723129   0.31979515 
   24000   0.98810498    162.88634   0.33934653   0.32131187 
   25000   0.96961962    170.37907   0.34075814   0.32276215 
   26000   0.99118408    179.26511   0.34474059   0.32427111 
   27000   0.98515159    185.90764    0.3442734   0.32574529 
   28000   0.98951677    192.12183   0.34307469   0.32700292 
   29000    0.9832026    196.99457   0.33964581   0.32799023 
   30000   0.98449493    203.48475   0.33914124    0.3287171 
   31000   0.96585993    210.06193   0.33880956   0.32935775 
   32000   0.98758117    218.94174   0.34209646   0.33001591 
   33000   0.98875584    225.96489   0.34237104   0.33072947 
   34000   0.98007229     233.5792   0.34349882    0.3314385 
   35000   0.98415295    241.98148   0.34568783   0.33216634 
   36000   0.98101154    250.30876   0.34765106   0.33295272 
   37000   0.97606878     258.2127   0.34893608   0.33377673 
   38000   0.97220293    266.40464   0.35053242   0.33459273 
   39000     0.979783     272.8578   0.34981769   0.33539728 
   40000   0.98375673    279.87598   0.34984497   0.33609699 
   41000   0.97506523    288.07676   0.35131312   0.33677708 
   42000   0.97106749    296.11647    0.3525196   0.33751312 
   43000   0.97717259    304.46747   0.35403194   0.33823441 
   44000   0.98541435    312.57228   0.35519578    0.3389771 
   45000   0.97678287    321.82674   0.35758527   0.33973306 
   46000   0.98169719    329.78197   0.35845866   0.34051748 
   47000   0.99471466    337.11283   0.35863066   0.34127239 
   48000   0.98332437     346.0754    0.3604952   0.34202442 
   49000   0.98126947    356.11859   0.36338631   0.34282132 
   50000   0.98809751    365.65248   0.36565248   0.34368171 
   51000   0.95919516    373.91833   0.36658659   0.34454516 
   52000   0.98097913    381.26492   0.36660089   0.34538506 
   53000   0.97774072    388.81031   0.36680218   0.34618232 
   54000   0.99096915    395.56767   0.36626636    0.3469296 
   55000   0.97652739    401.72735   0.36520668   0.34760374 
   56000   0.99185306    407.28834    0.3636503   0.34819906 
   57000   0.96289342    414.75298    0.3638184   0.34871992 
   58000   0.97871716    424.69443   0.36611588   0.34927986 
   59000   0.98637393    433.14205   0.36706953   0.34986296 
   60000   0.98009845    438.14533   0.36512111   0.35040349 
   61000   0.99416712    446.08007    0.3656394   0.35088379 
   62000   0.97612483    450.90846   0.36363585   0.35132647 
   63000   0.97786531    455.36749   0.36140277   0.35167458 
   64000   0.99080668    458.04873   0.35785057    0.3519105 
   65000   0.97952497    461.31241    0.3548557    0.3520506 
   66000   0.98095955    463.91727   0.35145248   0.35207764 
   67000   0.98370788       468.93   0.34994776   0.35204043 
   68000   0.96931818    471.07765   0.34638063   0.35192685 
   69000   0.98512552    474.59146   0.34390685   0.35174053 
   70000   0.98065743    478.66071    0.3419005   0.35149002 
   71000   0.98971283    482.57357   0.33984054   0.35119434 
   72000   0.99890324    485.32018    0.3370279   0.35084345 
   73000   0.98649924    490.19497   0.33574998   0.35043722 
   74000   0.98723422    496.04991   0.33516886   0.35003351 
   75000    1.0025633     501.6313   0.33442087   0.34962094 
   76000   0.97859959    505.97813   0.33288035   0.34921013 
   77000   0.97973006    510.55334   0.33152814    0.3487692 
   78000    0.9903944    515.06966   0.33017286   0.34830833 
   79000   0.96847518    518.76483   0.32833217    0.3478214 
   80000   0.99171112    524.18127   0.32761329   0.34733349 
   81000   0.97202573    529.09959   0.32660468    0.3468315 
   82000   0.99368438    535.80271   0.32670897   0.34633058 
   83000   0.97932483    543.08233   0.32715803   0.34586259 
   84000   0.99078651    547.57861   0.32593965   0.34540839 
   85000   0.98973457    552.24581   0.32485048   0.34493584 
   86000    0.9835873     557.3493   0.32404029   0.34446152 
   87000   0.97180564    564.93434   0.32467491   0.34400358 
   88000   0.99743353    571.39837   0.32465817    0.3435667 
   89000   0.98993437    577.81703   0.32461631    0.3431411 
   90000    0.9926071    583.39378   0.32410765     0.342724 
   91000   0.98800458    591.08741    0.3247733   0.34232767 
   92000   0.98501879    596.10133   0.32396811   0.34193949 
   93000   0.98810082    604.02652   0.32474544    0.3415681 
   94000   0.97563748    609.43676   0.32416849     0.341209 
   95000   0.97283448    615.15754   0.32376713   0.34084828 
   96000    0.9883071    622.30912   0.32411933   0.34049871 
   97000   0.97717678    628.84457   0.32414669   0.34016355 
   98000   0.97190208    634.37377   0.32366009    0.3398341 
   99000   0.98687379    640.66666   0.32356902   0.33950845 
  100000   0.97559757    646.96406   0.32348203   0.33919036 
Loop time of 9.58779 on 8 procs for 100000 steps with 3200 atoms

Performance: 4505729.040 tau/day, 10429.928 timesteps/s
99.4% CPU use with 8 MPI tasks x no OpenMP threads

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 4.8572     | 4.9363     | 4.9822     |   1.7 | 51.49
Neigh   | 1.3583     | 1.376      | 1.3991     |   1.2 | 14.35
Comm    | 1.5192     | 1.7079     | 1.8264     |   7.2 | 17.81
Output  | 0.0085125  | 0.0086059  | 0.0089455  |   0.1 |  0.09
Modify  | 0.77663    | 0.7903     | 0.81378    |   1.3 |  8.24
Other   |            | 0.7686     |            |       |  8.02

Nlocal:    400 ave 413 max 391 min
Histogram: 2 1 0 2 0 0 1 1 0 1
Nghost:    204.75 ave 213 max 197 min
Histogram: 1 1 0 1 0 3 0 1 0 1
Neighs:    2800.62 ave 2959 max 2661 min
Histogram: 1 1 1 2 0 0 0 1 1 1

Total # of neighbors = 22405
Ave neighs/atom = 7.00156
Neighbor list builds = 12728
Dangerous builds = 0
Total wall time: 0:00:10
